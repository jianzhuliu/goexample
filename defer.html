<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>defer</title>
<link rel="stylesheet" href="static/css/jquery.snippet.css">
<style type="text/css">
		.container{
			width:600px;
			margin: 20px auto;
		}
	</style>
<script src="static/js/jquery.min.js"></script>
<script src="static/js/jquery.snippet.js"></script>
<script>
$(function(){
	
	
	$("pre.demo").snippet("javascript", { style: "random", collapse: false, startCollapsed: false});
});
</script>
</head>

<body>

<div class="container">
	
			<pre class="demo">
/*
test example
*/

package main

import "fmt"

func func1(i int) (t int) {
	t = i
	defer func() {
		t += 3
	}()

	return t
}

func func2(i int) int {
	t := i
	defer func() {
		t += 3
	}()

	return t
}

func func3(i int) (t int) {
	defer func() {
		t += i
	}()
	return 2
}

func func4() (t int) {
	defer func(i int) {
		fmt.Println("func4 i:", i)
		fmt.Println("func4 t:", t)
	}(t)
	t = 1
	return 2
}

func main() {
	fmt.Println("func1:", func1(1))
	fmt.Println("func2:", func2(1))
	fmt.Println("func3:", func3(1))
	func4()
}

/*
Output:
func1:4
func2:1
func3:3
func4 i:0
func4 j:2

*/

		</pre>
	
</div>











</body>
</html>